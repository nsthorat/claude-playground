#!/bin/bash

# Pre-commit hook: Build and generate OG images before committing
# This ensures the docs/ folder is always up to date

echo "ğŸ”¨ Running publish script before commit..."

# Run the publish script
bun run publish

if [ $? -ne 0 ]; then
    echo "âŒ Build failed. Commit aborted."
    exit 1
fi

# Stage the docs/ folder changes
git add docs/

echo "âœ… Build completed and docs/ staged."
